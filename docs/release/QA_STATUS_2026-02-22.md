# QA Status (2026-02-22)

## Scope
- 기준 문서: `PRD-일어톡톡.md`, `README.md`, `docs/release/QA_CHECKLIST.md`
- 실행 환경: local (`apps/mobile`)

## Automated Checks
1. `flutter analyze`: PASSED
2. `flutter test`: PASSED
   - `test/study_algorithms_test.dart`
   - `test/widget_test.dart`

## QA Checklist Mapping

### 1) Auth / Session
- Google 로그인 성공 후 홈 진입: 코드 근거 확인, 실기기 검증 필요
  - 버튼/플로우: `apps/mobile/lib/features/auth/auth_screen.dart:57`, `apps/mobile/lib/shared/app_state.dart:300`
- Apple 로그인 성공 후 홈 진입: 코드 근거 확인, 실기기 검증 필요
  - 버튼/플로우: `apps/mobile/lib/features/auth/auth_screen.dart:65`, `apps/mobile/lib/shared/app_state.dart:331`
- 로그아웃 후 인증 화면 복귀: 코드 근거 확인, 실기기 검증 필요
  - `apps/mobile/lib/shared/app_state.dart:362`, `apps/mobile/lib/app.dart:134`
- OAuth 실패 시 앱 크래시 없이 오류 메시지 표시: 코드 근거 확인, 실기기 검증 필요
  - recoverable 예외 처리: `apps/mobile/lib/main.dart:73`
  - auth 에러 메시지 표시: `apps/mobile/lib/features/auth/auth_screen.dart:82`

### 2) Data / Sync
- 학습 카드 빈 화면 없이 로드: 코드 근거 확인, 실기기 검증 필요
  - `apps/mobile/lib/features/study/study_session_screen.dart:270`
- 카드 평가 후 dueCount 즉시 반영: 코드 근거 확인, 실기기 검증 필요
  - grade 후 summary 재조회: `apps/mobile/lib/shared/app_state.dart:184`
  - 서버 RPC grade_card: `apps/mobile/lib/data/supabase/supabase_repositories.dart:153`
- 앱 재시작 후 학습 진도 복원: 코드 근거 확인, 실기기 검증 필요
  - initialize 시 summary 로드: `apps/mobile/lib/shared/app_state.dart:80`
- RLS 정책으로 타 유저 데이터 접근 불가: 테스트 스크립트 존재, DB 수동 실행 필요
  - `supabase/tests/rls_check.sql:1`

### 3) Today / Summary
- cardsDone/minCards 서버 값 일치: 코드 근거 확인, 실기기 검증 필요
  - get_today_summary RPC 사용: `apps/mobile/lib/data/supabase/supabase_repositories.dart:176`
- streak/freeze 서버 값 일치: 코드 근거 확인, 실기기 검증 필요
  - summary 매핑: `apps/mobile/lib/data/supabase/supabase_repositories.dart:195`
- 최소 완료/10분/20분 진입 정상: 코드 근거 확인, 실기기 검증 필요
  - 플랜 시작 추적: `apps/mobile/lib/shared/app_state.dart:386`

### 4) Study UX
- 네이티브 카드 임베드 렌더링(iOS/Android): 코드 근거 일부 확인, 실기기 검증 필요
- 스와이프 Again/Good 동작: 코드 근거 확인, 실기기 검증 필요
  - grading 적용: `apps/mobile/lib/features/study/study_session_screen.dart:287`
- 세션 완료 화면 Good/Again/시간 노출: 코드 근거 확인, 실기기 검증 필요
- 듣기(TTS) 버튼 동작: 코드 근거 확인, 실기기 검증 필요
  - TTS 설정: `apps/mobile/lib/features/study/study_session_screen.dart:325`

### 5) Widget / Deep Link
- 위젯 탭 시 앱 해당 탭 이동: 코드 근거 확인, 실기기 검증 필요
  - 딥링크 핸들링: `apps/mobile/lib/app.dart:84`
- review/content 딥링크 정상: 코드 근거 확인, 실기기 검증 필요
  - iOS widget URL: `apps/mobile/ios/StudyWidgets/DueCountWidget.swift:56`
  - Android widget URL: `apps/mobile/android/app/src/main/kotlin/co/gaeng2y/studyjlpt/DueCountWidgetProvider.kt:32`
- widget_opened 이벤트 기록 확인: 코드 근거 확인, Supabase 수동 확인 필요
  - `apps/mobile/lib/shared/app_state.dart:392`
  - insert: `apps/mobile/lib/shared/services/telemetry_service.dart:33`

### 6) Profile / Onboarding
- 온보딩 1회만 노출: 코드 근거 확인, 실기기 검증 필요
  - 조건 분기: `apps/mobile/lib/shared/app_state.dart:102`, `apps/mobile/lib/app.dart:136`
- 프로필 수정 후 오늘 화면 즉시 반영: 코드 근거 확인, 실기기 검증 필요
  - settings update 후 summary refresh: `apps/mobile/lib/shared/app_state.dart:265`
- 알림 시간 수정 후 로컬 알림 재스케줄: 코드 근거 확인, 실기기 검증 필요
  - `apps/mobile/lib/shared/app_state.dart:282`, `apps/mobile/lib/shared/services/notification_service.dart:42`

### 7) Stability
- iOS 상태바 다크 아이콘 유지: 코드 근거 확인, 실기기 검증 필요
  - `apps/mobile/lib/app.dart:36`, `apps/mobile/lib/main.dart:43`
- 다크모드 강제 라이트: 코드 근거 확인, 실기기 검증 필요
  - `apps/mobile/lib/app.dart:33`
- 치명 오류 client_error_logs 적재: 코드 근거 확인, Supabase 수동 확인 필요
  - `apps/mobile/lib/main.dart:21`, `apps/mobile/lib/shared/services/telemetry_service.dart:59`

## Findings
1. 문서 기준 딥링크 스킴은 `studyjlpt://`로 통일함.

## Immediate Next Actions
1. `supabase/tests/rls_check.sql`를 Supabase SQL Editor에서 실행하고 결과 캡처.
2. 실기기 QA(로그인/학습/위젯/딥링크/알림) 수행 후 `docs/release/QA_CHECKLIST.md` 체크 반영.
3. 실기기 QA 완료 후 체크리스트 결과를 반영.
